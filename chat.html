<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>My chat</title>
</head>
<body>
       


    <div id="container">
        <aside>
          <header>
            <input type="text" placeholder="Найти ...">
          </header>
          <ul>
            <li>
              <div>
                <h2>Персона</h2>
                <h3>
                  <span class="status orange"></span>
                  offline
                </h3>
              </div>
            </li>
            <li>
                <div>
                  <h2>Персона</h2>
                  <h3>
                    <span class="status orange"></span>
                    offline
                  </h3>
                </div>
              </li>
              <li>
                <div>
                  <h2>Персона</h2>
                  <h3>
                    <span class="status orange"></span>
                    offline
                  </h3>
                </div>
              </li>
              <li>
                <div>
                  <h2>Персона</h2>
                  <h3>
                    <span class="status orange"></span>
                    offline
                  </h3>
                </div>
              </li>
            <li>
              <div>
                <h2>Персона</h2>
                <h3>
                  <span class="status green"></span>
                  online
                </h3>
              </div>
            </li>
            <li>
              <div>
                <h2>Персона</h2>
                <h3>
                  <span class="status orange"></span>
                  offline
                </h3>
              </div>
            </li>
            <li>
              <div>
                <h2>Персона</h2>
                <h3>
                  <span class="status green"></span>
                  online
                </h3>
              </div>
            </li>
            <li>
              <div>
                <h2>Персона</h2>
                <h3>
                  <span class="status orange"></span>
                  offline
                </h3>
              </div>
            </li>
            <li>
              <div>
                <h2>Персона</h2>
                <h3>
                  <span class="status green"></span>
                  online
                </h3>
              </div>
            </li>
            <li>
              <div>
                <h2>Персона</h2>
                <h3>
                  <span class="status green"></span>
                  online
                </h3>
              </div>
            </li>
            <li>
              <div>
                <h2>Персона</h2>
                <h3>
                  <span class="status green"></span>
                  online
                </h3>
              </div>
            </li>
            <li>
              <div>
                <h2>Персона</h2>
                <h3>
                  <span class="status green"></span>
                  online
                </h3>
              </div>
            </li>
            <li>
              <div>
                <h2>Персона</h2>
                <h3>
                  <span class="status orange"></span>
                  offline
                </h3>
              </div>
            </li>
          </ul>
        </aside>
        <main>
          <header>
    
              <h2>Тестовый чат</h2>
              <h3>Всего сообщений 222222</h3>
            
          </header>
          <ul id="chat">
            <li class="you">
              <div class="entete">
                <span class="status green"></span>
                <h2>Белый Кролик</h2>
                <h3>22:30,Сегодня</h3>
              </div>
              <div class="triangle"></div>
              <div class="message">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor.
              </div>
            </li>
            <li class="me">
              <div class="entete">
                <h3>22:40, Сегодня</h3>
                <h2>Белый Кролик</h2>
                <span class="status blue"></span>
              </div>
              <div class="triangle"></div>
              <div class="message">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor.
              </div>
            </li>
            <li class="me">
              <div class="entete">
                <h3>22:50, Сегодня</h3>
                <h2>Белый Кролик</h2>
                <span class="status blue"></span>
              </div>
              <div class="triangle"></div>
              <div class="message">
                OK
              </div>
            </li>
            <li class="you">
              <div class="entete">
                <span class="status green"></span>
                <h2>Белый Кролик</h2>
                <h3>23:00, Сегодня</h3>
              </div>
              <div class="triangle"></div>
              <div class="message">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor.
              </div>
            </li>
            <li class="me">
              <div class="entete">
                <h3>23:10, Сегодня</h3>
                <h2>Белый Кролик</h2>
                <span class="status blue"></span>
              </div>
              <div class="triangle"></div>
              <div class="message">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor.
              </div>
            </li>
            <li class="me">
              <div class="entete">
                <h3>23:23, Сегодня</h3>
                <h2>Белый Кролик</h2>
                <span class="status blue"></span>
              </div>
              <div class="triangle"></div>
              <div class="message">
                OK
              </div>
            </li>
          </ul>
          <footer>
            <a href="#">Отправить</a>
            <textarea placeholder="Отправка сообщений идет отсюда"></textarea>
          </footer>
        </main>
      </div>
      
      
     <script>

        let funcDomReady = '';
        
        function onDomReady(func) { // функция добавления события
                let oldOnload = funcDomReady;
                if (typeof funcDomReady != 'function')
                        funcDomReady = func;
                else {
                        funcDomReady = function() {
                                oldOnload();
                                func();
                        }
              }      }
        
        // добавляем функцию, которую нужно вызвать после загрузки DOM
        onDomReady(alert("DOM загружен! Обработчик 1"));
        onDomReady(alert("DOM загружен! Обработчик 2"));
        
        function init() {
            // выходим, если функция уже выполнялась
            if (arguments.callee.done) return;
        
            // устанавливаем флаг, чтобы функция не исполнялась дважды
            arguments.callee.done = true;
        
            if(funcDomReady)funcDomReady();
        };
        
        /* для Mozilla/Firefox */
        if (document.addEventListener)
            document.addEventListener("DOMContentLoaded", init, false);
        
        /* для Safari */
        if (/WebKit/i.test(navigator.userAgent)) { // условие для Safari
            let _timer = setInterval(function() {
            if (/loaded|complete/.test(document.readyState)) {
                clearInterval(_timer);
                init(); // вызываем обработчик для onload
            }
            }, 10);
        }
        
        window.onload = init;
        
</script>

</body>
</html>